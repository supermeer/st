<view class="my-setting-page">
  <!-- 固定背景图 -->
  <image class="page-bg" src="https://yoursx-static-1371529546.cos.ap-guangzhou.myqcloud.com/chat_bg.png" mode="aspectFill"></image>
  
  <!-- 固定顶部导航栏 -->
  <custom-nav title="" showBack="{{true}}" showHome="{{false}}" transparent="{{true}}" />
  
  <!-- 固定角色信息卡片 -->
  <view class="chat-header blur-glass" style="top: {{ pageInfo.navHeight }}px">
    <image class="chat-avatar" src="{{chatInfo.avatar}}" mode="aspectFill"></image>
    <!-- <view class="chat-info">
      <view class="chat-name">{{chatInfo.name}}</view>
      <view class="chat-desc">{{chatInfo.description}}</view>
    </view> -->
    <view class="chat-title">设置该角色与你之间的关系</view>
  </view>

  <!-- 可滚动内容区域 -->
  <scroll-view
    class="scroll-content"
    scroll-y
    enhanced
    show-scrollbar="{{false}}"
    style="height: calc(100% - {{ pageInfo.navHeight}}px);"
  >
    
    <!-- 设置表单 -->
    <view class="settings-form" style="padding-bottom: {{ pageInfo.safeAreaBottom + 120}}px;">
      
      <!-- 对我的称呼 -->
      <view class="form-item blur-glass">
        <view class="form-label">对我的称呼</view>
        <input 
          class="form-input" 
          type="text" 
          placeholder="请输入称呼"
          placeholder-class="input-placeholder"
          value="{{formData.nickname}}"
          bindinput="onNicknameInput"
        />
      </view>

      <!-- 我的性别 -->
      <view class="form-item blur-glass">
        <view class="form-label">我的性别</view>
        <view class="gender-options">
          <view 
            class="gender-option {{formData.gender === 'male' ? 'active' : ''}}"
            bindtap="onGenderChange"
            data-gender="male"
          >
            <t-icon name="gender-male" size="40rpx" />
            <text>男</text>
          </view>
          <view 
            class="gender-option {{formData.gender === 'female' ? 'active' : ''}}"
            bindtap="onGenderChange"
            data-gender="female"
          >
            <t-icon name="gender-female" size="40rpx" />
            <text>女</text>
          </view>
          <view 
            class="gender-option {{formData.gender === 'other' ? 'active' : ''}}"
            bindtap="onGenderChange"
            data-gender="other"
          >
            <t-icon name="user" size="40rpx" />
            <text>其他</text>
          </view>
        </view>
      </view>

      <!-- 我是谁 -->
      <view class="form-item blur-glass">
        <view class="form-label">我是谁</view>
        <textarea 
          class="form-textarea" 
          placeholder="请描述一下自己..."
          placeholder-class="input-placeholder"
          value="{{formData.description}}"
          bindinput="onDescriptionInput"
          maxlength="500"
          auto-height
        />
        <view class="textarea-counter">{{formData.description.length}}/500</view>
      </view>

    </view>
    
  </scroll-view>

  <!-- 固定底部提交按钮 -->
  <view class="submit-container" style="bottom: {{ pageInfo.safeAreaBottom }}px">
    <button class="submit-btn blur-glass" bindtap="onSubmit">保存设定</button>
  </view>
</view>

