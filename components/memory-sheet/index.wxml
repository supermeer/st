<view class="memory-sheet-mask" wx:if="{{visible}}" bindtap="handleMaskClick" catchtouchmove="preventMove">
  <view class="memory-sheet-container {{visible ? 'show' : ''}}" catchtap="preventMove">
    <!-- 关闭按钮 -->
    <view class="memory-sheet-close" bindtap="handleClose">
      <text class="close-icon">×</text>
    </view>

    <!-- 标题 -->
    <view class="memory-sheet-title">{{title}}</view>
    
    <!-- 副标题 -->
    <view class="memory-sheet-subtitle">{{subtitle}}</view>

    <!-- 记忆选项列表 -->
    <scroll-view class="memory-list" scroll-y>
      <view 
        class="memory-item {{selectedOption && selectedOption.id === item.id ? 'selected' : ''}}"
        wx:for="{{memoryOptions}}"
        wx:key="id"
        data-index="{{index}}"
        bindtap="handleSelectOption"
      >
        <!-- 左侧选中指示器 -->
        <view class="memory-radio">
          <view class="radio-outer {{selectedOption && selectedOption.id === item.id ? 'checked' : ''}}">
            <view class="radio-inner" wx:if="{{selectedOption && selectedOption.id === item.id}}"></view>
          </view>
        </view>

        <!-- 内容区域 -->
        <view class="memory-content">
          <view class="memory-name-row">
            <text class="memory-name">{{item.name}}</text>
          </view>
          <text class="memory-description">{{item.description}}</text>
        </view>

        <!-- 当前标签 -->
        <view class="current-tag" wx:if="{{currentOptionId === item.id}}">
          <text>当前</text>
        </view>
      </view>

      <view wx:if="{{memoryOptions.length === 0}}" class="empty-container">
        <text class="empty-text">暂无记忆选项</text>
      </view>
    </scroll-view>

    <!-- 按钮组 -->
    <view class="memory-sheet-buttons">
      <view class="memory-sheet-btn cancel-btn" bindtap="handleCancel">
        {{cancelText}}
      </view>
      <view class="memory-sheet-btn confirm-btn" bindtap="handleConfirm">
        {{confirmText}}
      </view>
    </view>
  </view>
</view>
