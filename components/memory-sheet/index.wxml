<view class="memory-sheet-mask" wx:if="{{visible}}" bindtap="handleMaskClick" catchtouchmove="preventMove">
  <view class="memory-sheet-container {{visible ? 'show' : ''}}" catchtap="preventMove">
    <!-- 关闭按钮 -->
    <view class="memory-sheet-close" bindtap="handleClose">
      <text class="close-icon">×</text>
    </view>

    <!-- 标题 -->
    <view class="memory-sheet-title">{{title}}</view>
    
    <!-- 副标题 -->
    <view class="memory-sheet-subtitle">{{subtitle}}</view>

    <!-- 记忆选项列表 -->
    <scroll-view class="memory-list" scroll-y>
      <!-- 加载状态 -->
      <view wx:if="{{loading}}" class="loading-container">
        <text class="loading-text">加载中...</text>
      </view>

      <!-- 记忆选项 -->
      <view 
        class="memory-item memory-item-{{index}} {{selectedOption && selectedOption.value === item.value ? 'selected selected-' + index : ''}}"
        wx:for="{{memoryOptions}}"
        wx:key="value"
        data-index="{{index}}"
        bindtap="handleSelectOption"
      >
        <!-- 左侧选中指示器 -->
        <view class="memory-radio">
          <t-radio 
            class="memory-radio-item memory-radio-{{index}}"
            block="{{false}}"
            checked="{{selectedOption && selectedOption.value === item.value}}"
            icon="dot"
          />
        </view>

        <!-- 内容区域 --> 
        <view class="ms-content">
          <view class="ms-name-row">
            <text class="ms-name ms-name-{{index}}">{{item.label}}</text>
          </view>
          <text class="ms-description">{{item.description}}</text>
        </view>

        <!-- 当前标签 -->
        <view class="current-tag current-tag-{{index}}" wx:if="{{currentCount === item.value}}">
          <text>当前</text>
        </view>
      </view>

      <view wx:if="{{!loading && memoryOptions.length === 0}}" class="empty-container">
        <text class="empty-text">暂无记忆选项</text>
      </view>
    </scroll-view>

    <!-- 按钮组 -->
    <view class="memory-sheet-buttons">
      <view class="memory-sheet-btn cancel-btn" bindtap="handleCancel">
        {{cancelText}}
      </view>
      <view class="memory-sheet-btn confirm-btn" bindtap="handleConfirm">
        {{confirmText}}
      </view>
    </view>
  </view>
</view>
